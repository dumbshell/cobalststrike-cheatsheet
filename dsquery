The basic structure for dsquery is:

dsquery <object type> <filters> <options>

Object type has the following options:

Computer
Contact
Group
OU
Site
Server
User
Quota
Partition
* (Wildcard)
run dsquery.exe * -filter "(objectclass=group)" -attr * -limit 2
dsquery * -filter “(&(objectclass=computer)(name=*win*))” -attr name

run dsquery.exe Server -Forest find other domains connected in the forest

run dsquery * -filter "(&(objectclass=user)(admincount=1))" -attr name samaccountname memberof -limit 20 -d (fqdn)


run dsquery.exe * -filter "(&(objectclass=computer)(operatingsystem=*windows 7*))" -attr samaccountname  -limit 10

**to find trusted domains**
run dsquery.exe * -filter "(objectclass=trusteddomain)" -attr flatname trustdirection
1= that domain trusts you, you can query other domain
2= that domain trusts you
3= Both Domains are trusted

run dsquery * -filter "(name=trusteddomains)" -attr *
run dsquery * -filter "(name=Domain Admins)" -attr * -d nublar.jurassic.local
run dsquery * -filter "(sAMAccountName=*hammond*)" -attr * -d nublar.jurassic.local
